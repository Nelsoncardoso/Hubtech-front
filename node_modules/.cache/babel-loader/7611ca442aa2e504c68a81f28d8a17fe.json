{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/src/pages/Dashboard/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport Moment from 'react-moment';\nimport api from \"../../services/api\";\nimport { Container, Task } from './styles';\nexport default function Dashboard() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      schedule = _useState2[0],\n      setSchedule = _useState2[1];\n\n  useEffect(function () {\n    function loadSchedule() {\n      return _loadSchedule.apply(this, arguments);\n    }\n\n    function _loadSchedule() {\n      _loadSchedule = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _dataHeaders, response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _dataHeaders = JSON.parse(localStorage.getItem('headers'));\n                _context.next = 3;\n                return api.get('/tasks', {\n                  headers: _dataHeaders\n                });\n\n              case 3:\n                response = _context.sent;\n                localStorage.setItem('headers', JSON.stringify(response.headers));\n                setSchedule({\n                  tasks: response.data\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _loadSchedule.apply(this, arguments);\n    }\n\n    loadSchedule();\n  });\n\n  function AddTask() {}\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"Button\",\n    onClick: AddTask,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"ADICIONAR TAREFA\"), JSON.stringify(schedule), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, schedule.tasks.map(function (task) {\n    return React.createElement(Task, {\n      key: task.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, task.name), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, task.description), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(Moment, {\n      format: \"DD/MM/YYYY\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, task.end_time))) // <Time key={time.time} past={time.past} available={!time.appointment}>\n    //   <strong>{time.time}</strong>\n    //   <span>\n    //     {time.appointment ? time.appointment.user.name : 'Em aberto'}\n    //   </span>\n    // </Time>\n    ;\n  })));\n}","map":{"version":3,"sources":["/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/src/pages/Dashboard/index.js"],"names":["React","useState","useEffect","Moment","api","Container","Task","Dashboard","schedule","setSchedule","loadSchedule","_dataHeaders","JSON","parse","localStorage","getItem","get","headers","response","setItem","stringify","tasks","data","AddTask","map","task","id","name","description","end_time"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAOC,GAAP,MAAgB,oBAAhB;AAEA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,UAAhC;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA,kBACFN,QAAQ,CAAC,EAAD,CADN;AAAA;AAAA,MAC3BO,QAD2B;AAAA,MACjBC,WADiB;;AAGlCP,EAAAA,SAAS,CAAC,YAAM;AAAA,aACCQ,YADD;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,+BACd;AAAA;;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,YADR,GACuBC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CADvB;AAAA;AAAA,uBAEyBX,GAAG,CAACY,GAAJ,CAAQ,QAAR,EAAkB;AAACC,kBAAAA,OAAO,EAAEN;AAAV,iBAAlB,CAFzB;;AAAA;AAEQO,gBAAAA,QAFR;AAGEJ,gBAAAA,YAAY,CAACK,OAAb,CAAqB,SAArB,EAAgCP,IAAI,CAACQ,SAAL,CAAeF,QAAQ,CAACD,OAAxB,CAAhC;AACAR,gBAAAA,WAAW,CAAC;AACVY,kBAAAA,KAAK,EAAEH,QAAQ,CAACI;AADN,iBAAD,CAAX;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADc;AAAA;AAAA;;AASdZ,IAAAA,YAAY;AACb,GAVQ,CAAT;;AAYA,WAASa,OAAT,GAAmB,CAAE;;AAErB,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAEA,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEGX,IAAI,CAACQ,SAAL,CAAeZ,QAAf,CAFH,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QAAQ,CAACa,KAAT,CAAeG,GAAf,CAAmB,UAAAC,IAAI;AAAA,WACtB,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASD,IAAI,CAACE,IAAd,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOF,IAAI,CAACG,WAAZ,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BH,IAAI,CAACI,QAAlC,CADF,CAHF,CADsB,CAQtB;AACA;AACA;AACA;AACA;AACA;AAbsB;AAAA,GAAvB,CADH,CAHF,CADF;AAwBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Moment from 'react-moment';\n\nimport api from '~/services/api';\n\nimport { Container, Task } from './styles';\n\nexport default function Dashboard() {\n  const [schedule, setSchedule] = useState([]);\n\n  useEffect(() => {\n    async function loadSchedule() {\n      const _dataHeaders = JSON.parse(localStorage.getItem('headers'));\n      const response = await api.get('/tasks', {headers: _dataHeaders});\n      localStorage.setItem('headers', JSON.stringify(response.headers));\n      setSchedule({\n        tasks: response.data\n      });\n    }\n    loadSchedule();\n  });\n\n  function AddTask() {}\n\n  return (\n    <Container>\n      <button type=\"Button\" onClick={AddTask}>ADICIONAR TAREFA</button>\n      {JSON.stringify(schedule)}\n      <ul>\n        {schedule.tasks.map(task => (\n          <Task key={task.id}>\n            <strong>{task.name}</strong>\n            <span>{task.description}</span>\n            <small>\n              <Moment format=\"DD/MM/YYYY\">{task.end_time}</Moment>\n            </small>\n          </Task>\n          // <Time key={time.time} past={time.past} available={!time.appointment}>\n          //   <strong>{time.time}</strong>\n          //   <span>\n          //     {time.appointment ? time.appointment.user.name : 'Em aberto'}\n          //   </span>\n          // </Time>\n        ))}\n      </ul>\n      \n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}