{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sweetalert = exports.closeIfShow = exports.close = exports.CLOSE = exports.SHOW = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _composeFunction = require('compose-function');\n\nvar _composeFunction2 = _interopRequireDefault(_composeFunction);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar SHOW = exports.SHOW = '@sweetalert/SHOW';\nvar CLOSE = exports.CLOSE = '@sweetalert/CLOSE';\nvar ALLOWS_KEYS = [// sweetalert option\n'title', 'text', 'type', 'customClass', 'showCancelButton', 'showConfirmButton', 'confirmButtonText', 'confirmButtonColor', 'cancelButtonText', 'imageUrl', 'imageSize', 'html', 'animation', 'inputType', 'inputValue', 'inputPlaceholder', 'showLoaderOnConfirm', 'closeOnConfirm', 'closeOnCancel', 'allowEscapeKey', 'allowOutsideClick', 'timer', // custom option\n'onConfirm', 'onCancel', 'onClose', 'onEscapeKey', 'onOutsideClick'];\n\nvar _timeout = void 0;\n\nvar close = exports.close = function close() {\n  if (_timeout) {\n    clearTimeout(_timeout);\n    _timeout = null;\n  }\n\n  return {\n    type: CLOSE\n  };\n};\n\nvar closeIfShow = exports.closeIfShow = function closeIfShow() {\n  if (_timeout) {\n    clearTimeout(_timeout);\n    _timeout = null;\n  }\n\n  return function (dispatch, getState) {\n    if (getState().sweetalert.show) {\n      dispatch({\n        type: CLOSE\n      });\n    }\n  };\n};\n\nfunction getInvalidProps(payload) {\n  return Object.keys(payload).filter(function (key) {\n    return ALLOWS_KEYS.indexOf(key) === -1;\n  });\n}\n\nfunction warningInvalidProps(payload) {\n  var invalidProps = getInvalidProps(payload);\n  invalidProps.forEach(function (prop) {\n    (0, _warning2[\"default\"])(false, 'Property ' + prop + ' is invalid. You can not pass it to SweetAlert');\n  });\n}\n\nfunction parseArgument(f1, f2, f3) {\n  if (typeof f1 === 'string') {\n    var payload = {\n      title: f1\n    };\n    if (f2) payload.text = f2;\n    if (f3) payload.type = f3;\n    return payload;\n  }\n\n  return f1;\n}\n\nfunction createCloseOnConfirmTransform(dispatch) {\n  return function (_ref) {\n    var closeOnConfirm = _ref.closeOnConfirm,\n        payload = _objectWithoutProperties(_ref, ['closeOnConfirm']);\n\n    return _extends({}, payload, {\n      onConfirm: function onConfirm() {\n        if (typeof payload.onConfirm === 'function') payload.onConfirm.apply(payload, arguments);\n\n        if (closeOnConfirm !== false) {\n          dispatch(close());\n        }\n      }\n    });\n  };\n}\n\nfunction createCloseOnCancelTransform(dispatch) {\n  return function (_ref2) {\n    var closeOnCancel = _ref2.closeOnCancel,\n        payload = _objectWithoutProperties(_ref2, ['closeOnCancel']);\n\n    return _extends({}, payload, {\n      onCancel: function onCancel() {\n        if (typeof payload.onCancel === 'function') payload.onCancel.apply(payload, arguments);\n\n        if (closeOnCancel !== false) {\n          dispatch(close());\n        }\n      }\n    });\n  };\n}\n\nfunction createAllowEscapeKeyTransform(dispatch) {\n  return function (_ref3) {\n    var allowEscapeKey = _ref3.allowEscapeKey,\n        payload = _objectWithoutProperties(_ref3, ['allowEscapeKey']);\n\n    return _extends({}, payload, {\n      onEscapeKey: function onEscapeKey() {\n        if (typeof payload.onEscapeKey === 'function') payload.onEscapeKey.apply(payload, arguments);\n\n        if (allowEscapeKey !== false) {\n          dispatch(close());\n        }\n      }\n    });\n  };\n}\n\nfunction createAllowOutsideClickTransform(dispatch) {\n  return function (_ref4) {\n    var allowOutsideClick = _ref4.allowOutsideClick,\n        payload = _objectWithoutProperties(_ref4, ['allowOutsideClick']);\n\n    return _extends({}, payload, {\n      onOutsideClick: function onOutsideClick() {\n        if (typeof payload.onOutsideClick === 'function') payload.onOutsideClick.apply(payload, arguments);\n\n        if (allowOutsideClick === true) {\n          dispatch(close());\n        }\n      }\n    });\n  };\n}\n\nfunction createTimerTransform(dispatch) {\n  return function (_ref5) {\n    var timer = _ref5.timer,\n        payload = _objectWithoutProperties(_ref5, ['timer']);\n\n    if (timer && typeof timer === 'number') {\n      _timeout = setTimeout(function () {\n        return dispatch(close());\n      }, timer);\n    }\n\n    return payload;\n  };\n}\n\nvar sweetalert = exports.sweetalert = function sweetalert() {\n  var payload = parseArgument.apply(undefined, arguments);\n  warningInvalidProps(payload);\n  return function (dispatch) {\n    var closeOnConfirm = createCloseOnConfirmTransform(dispatch);\n    var closeOnCancel = createCloseOnCancelTransform(dispatch);\n    var allowEscapeKey = createAllowEscapeKeyTransform(dispatch);\n    var allowOutsideClick = createAllowOutsideClickTransform(dispatch);\n    var timer = createTimerTransform(dispatch);\n    var transform = (0, _composeFunction2[\"default\"])(closeOnConfirm, closeOnCancel, allowEscapeKey, allowOutsideClick, timer);\n    dispatch({\n      type: SHOW,\n      payload: transform(payload)\n    });\n  };\n};","map":null,"metadata":{},"sourceType":"script"}