{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/src/pages/Dashboard/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport Moment from 'react-moment';\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\nimport { Link } from 'react-router-dom';\nimport { confirmAlert } from 'react-confirm-alert';\nimport api from \"../../services/api\";\nimport { Container, Task } from './styles';\nimport session from \"../../helpers/session\";\nexport default function Dashboard() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      schedule = _useState2[0],\n      setSchedule = _useState2[1];\n\n  var _useState3 = useState(new Date()),\n      _useState4 = _slicedToArray(_useState3, 1),\n      date = _useState4[0];\n\n  var confirmDelete = function confirmDelete() {\n    confirmAlert({\n      title: 'Confirm to submit',\n      message: 'Are you sure to do this.',\n      buttons: [{\n        label: 'Yes',\n        onClick: function onClick() {\n          return alert('Click Yes');\n        }\n      }, {\n        label: 'No',\n        onClick: function onClick() {\n          return alert('Click No');\n        }\n      }]\n    });\n  };\n\n  useEffect(function () {\n    function loadSchedule() {\n      return _loadSchedule.apply(this, arguments);\n    }\n\n    function _loadSchedule() {\n      _loadSchedule = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var header, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                header = {\n                  headers: session.get()\n                };\n                _context.next = 3;\n                return api.get('/tasks', header);\n\n              case 3:\n                response = _context.sent;\n                session.set(response.headers);\n                setSchedule(response.data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _loadSchedule.apply(this, arguments);\n    }\n\n    loadSchedule();\n  }, [date]);\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/task\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"ADICIONAR TAREFA\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, schedule.map(function (task) {\n    return React.createElement(Task, {\n      key: task.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, task.name), React.createElement(\"actions\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(FaEdit, {\n      className: \"edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(FaTrash, {\n      className: \"delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, task.description), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Moment, {\n      format: \"DD/MM/YYYY\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, task.end_time)));\n  })));\n}","map":{"version":3,"sources":["/Users/nelsoncardoso/Downloads/bootcamp-gobarber-frontend-master/src/pages/Dashboard/index.js"],"names":["React","useState","useEffect","Moment","FaEdit","FaTrash","Link","confirmAlert","api","Container","Task","session","Dashboard","schedule","setSchedule","Date","date","confirmDelete","title","message","buttons","label","onClick","alert","loadSchedule","header","headers","get","response","set","data","map","task","id","name","description","end_time"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Moment from 'react-moment';\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\nimport { Link } from 'react-router-dom';\nimport { confirmAlert } from 'react-confirm-alert';\n\nimport api from '~/services/api';\n\nimport { Container, Task } from './styles';\nimport session from '~/helpers/session';\n\nexport default function Dashboard() {\n\n  const [schedule, setSchedule] = useState([]);\n  const [date] = useState(new Date());\n  const confirmDelete = () => {\n    confirmAlert({\n      title: 'Confirm to submit',\n      message: 'Are you sure to do this.',\n      buttons: [{\n          label: 'Yes',\n          onClick: () => alert('Click Yes')\n        },\n        {\n          label: 'No',\n          onClick: () => alert('Click No')\n        },\n      ]\n    });\n  };\n  useEffect(() => {\n    async function loadSchedule() {\n      const header = {\n        headers: session.get(),\n      };\n      const response = await api.get('/tasks', header);\n      session.set(response.headers);\n      setSchedule(response.data);\n    }\n    loadSchedule();\n  }, [date]);\n\n  return (\n    <Container>\n      <Link to=\"/task\">ADICIONAR TAREFA</Link>\n\n      <ul>\n        {schedule.map(task => (\n          <Task key={task.id}>\n            <header>\n              <title>{task.name}</title>\n              <actions>\n                <FaEdit className=\"edit\" />\n                <FaTrash className=\"delete\" />\n              </actions>\n            </header>\n\n            <span>{task.description}</span>\n            <small>\n              <Moment format=\"DD/MM/YYYY\">{task.end_time}</Moment>\n            </small>\n          </Task>\n        ))}\n      </ul>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}